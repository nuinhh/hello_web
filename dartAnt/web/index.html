<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height">
    <title>基础柱状图</title>
    <style>
        ::-webkit-scrollbar {
            display: none;
        }

        html,
        body {
            overflow: hidden;
            height: 100%;
            margin: 0;
        }
    </style>
    <script defer src="main.dart.js"></script>
</head>

<body>
<div id="hint">dart not connect.</div>

<br>

<div id="container"></div>

<!-- 引入在线资源，选择你需要的 g2 版本以替换 version 变量 -->
<script src="https://gw.alipayobjects.com/os/lib/antv/g2/3.4.10/dist/g2.min.js"></script>
<script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.data-set-0.10.1/dist/data-set.min.js"></script>
<script>
        var data = [{
            item: '事例一',
            count: 40,
            percent: 0.4
          }, {
            item: '事例二',
            count: 21,
            percent: 0.21
          }, {
            item: '事例三',
            count: 17,
            percent: 0.17
          }, {
            item: '事例四',
            count: 2,
            percent: 0.02
          }, {
            item: '事例五',
            count: 20,
            percent: 0.20
          }];
          var chart = new G2.Chart({
            container: 'container',
            forceFit: true,
            height: window.innerHeight
          });
          chart.source(data, {
            percent: {
              formatter: function formatter(val) {
                val = val * 100 + '%';
                return val;
              }
            }
          });
          chart.coord('theta');
          chart.tooltip({
            showTitle: false
          });
          chart.intervalStack().position('percent').color('item').label('percent', {
            offset: -40,
            // autoRotate: false,
            textStyle: {
              textAlign: 'center',
              shadowBlur: 2,
              shadowColor: 'rgba(0, 0, 0, .45)'
            }
          }).tooltip('item*percent', function(item, percent) {
            percent = percent * 100 + '%';
            return {
              name: item,
              value: percent
            };
          }).style({
            lineWidth: 1,
            stroke: '#fff'
          });
          chart.render();
    </script>
</body>

</html>